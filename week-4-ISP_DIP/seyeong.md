# í´ë¦° ì•„í‚¤í…ì²˜ 10-11ì¥ ì •ë¦¬

## ğŸ“‹ ëª©ì°¨

- [10ì¥: ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™ (ISP)](#10ì¥-ì¸í„°í˜ì´ìŠ¤-ë¶„ë¦¬-ì›ì¹™-isp)
- [11ì¥: ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ (DIP)](#11ì¥-ì˜ì¡´ì„±-ì—­ì „-ì›ì¹™-dip)

---

## 10ì¥ - ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™ (ISP)

### ğŸ“– ë¡œë²„íŠ¸ ë§ˆí‹´ì˜ í•µì‹¬ ì •ì˜

**"í´ë¼ì´ì–¸íŠ¸ëŠ” ìì‹ ì´ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œì— ì˜ì¡´í•˜ë©´ ì•ˆ ëœë‹¤"**

ê°ì²´ëŠ” ìì‹ ì´ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ” ë©”ì†Œë“œì— ì˜ì¡´í•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤ëŠ” ì›ì¹™.

### ğŸ¯ ì±…ì—ì„œ ì œì‹œí•˜ëŠ” ë¬¸ì œ ìƒí™©

```
[Ops í´ë˜ìŠ¤]
â”œâ”€â”€ op1() - User1ë§Œ ì‚¬ìš©
â”œâ”€â”€ op2() - User2ë§Œ ì‚¬ìš©
â””â”€â”€ op3() - User3ë§Œ ì‚¬ìš©

[ë¬¸ì œì ]
User1ì´ op1ë§Œ í•„ìš”í•œë°, op2ë‚˜ op3ì˜ ë³€ê²½ì—ë„ ì˜í–¥ì„ ë°›ê²Œ ë¨
```

ì´ ìƒí™©ì—ì„œ í•œ ì‚¬ìš©ìê°€ ìì‹ ì´ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œì˜ ë³€ê²½ì—ë„ ì˜í–¥ì„ ë°›ê²Œ ë˜ëŠ” **ë¶ˆí•„ìš”í•œ ê²°í•©**ì´ ë°œìƒ

### ğŸ”„ ì–¸ì–´ë³„ ì°¨ì´ì  (ì±…ì˜ ì¤‘ìš”í•œ í†µì°°)

ë¡œë²„íŠ¸ ë§ˆí‹´ì€ ì–¸ì–´ì˜ íŠ¹ì„±ì— ë”°ë¥¸ ISPì˜ ì˜í–¥ë„ ì°¨ì´ë¥¼ ì„¤ëª…

#### ì •ì  íƒ€ì… ì–¸ì–´ (Java, C#, TypeScript)

- ì‚¬ìš©ìê°€ **íƒ€ì… ì„ ì–¸ë¬¸ì„ ì‚¬ìš©í•˜ë„ë¡ ê°•ì œ**
- ì„ ì–¸ë¬¸ìœ¼ë¡œ ì¸í•´ **ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„± ë°œìƒ**
- **ì¬ì»´íŒŒì¼ ë˜ëŠ” ì¬ë°°í¬ê°€ ê°•ì œë¨**

#### ë™ì  íƒ€ì… ì–¸ì–´ (JavaScript, Python, Ruby)

- ì„ ì–¸ë¬¸ì´ ì¡´ì¬í•˜ì§€ ì•Šì•„ **ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì´ ì—†ìŒ**
- **ì¬ì»´íŒŒì¼ê³¼ ì¬ë°°í¬ê°€ ë¶ˆí•„ìš”**

### âš ï¸ ISPì˜ ê·¼ë³¸ì ì¸ ë™ê¸°

> **"ì¼ë°˜ì ìœ¼ë¡œ í•„ìš” ì´ìƒìœ¼ë¡œ ë§ì€ ê±¸ í¬í•¨í•˜ëŠ” ëª¨ë“ˆì— ì˜ì¡´í•˜ëŠ” ê²ƒì€ í•´ë¡œìš´ ì¼ì´ë‹¤. ë¶ˆí•„ìš”í•œ ì§ì„ ì‹¤ì€ ë¬´ì–¸ê°€ì— ì˜ì¡´í•˜ë©´ ì˜ˆìƒì¹˜ ëª»í•œ ë¬¸ì œì— ë¹ ì§ˆ ìˆ˜ ìˆë‹¤."**

### ğŸ—ï¸ ì•„í‚¤í…ì²˜ ìˆ˜ì¤€ì—ì„œì˜ ISP

ì±…ì—ì„œëŠ” ë” ê³ ìˆ˜ì¤€ì¸ **ì•„í‚¤í…ì²˜ ë ˆë²¨**ì—ì„œë„ ë™ì¼í•œ ìƒí™©ì´ ë°œìƒ

- ì„ í˜•ì ì¸ ì˜ì¡´ì„±ì„ ê°€ì§„ ê²½ìš°
- ë¶ˆí•„ìš”í•œ ê¸°ëŠ¥ê³¼ ë³€ê²½ì´ ìµœì¢… ì‹œìŠ¤í…œì— ì˜í–¥ì„ ì£¼ëŠ” ìƒí™© ì´ˆë˜
- **ì‹œìŠ¤í…œ A â†’ í”„ë ˆì„ì›Œí¬ F â†’ ë°ì´í„°ë² ì´ìŠ¤ D** ê°™ì€ ì˜ì¡´ì„±ì—ì„œ Dì˜ ë³€ê²½ì´ Aì—ê¹Œì§€ ì˜í–¥

---

### ğŸ’» í”„ë¡ íŠ¸ì—”ë“œì—ì„œì˜ ISP ì ìš©

#### ğŸš« ì˜ëª»ëœ ì˜ˆì‹œ (ISP ìœ„ë°˜)

```typescript
// âŒ ê±°ëŒ€í•œ ì‚¬ìš©ì ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤
interface UserService {
  // ì¸ì¦ ê´€ë ¨
  login(email: string, password: string): Promise<User>;
  logout(): Promise<void>;
  refreshToken(): Promise<string>;

  // í”„ë¡œí•„ ê´€ë¦¬
  updateProfile(userId: string, data: UserProfile): Promise<void>;
  uploadAvatar(userId: string, file: File): Promise<string>;
  getProfile(userId: string): Promise<UserProfile>;

  // ê´€ë¦¬ì ê¸°ëŠ¥
  deleteUser(userId: string): Promise<void>;
  getAllUsers(): Promise<User[]>;
  banUser(userId: string): Promise<void>;

  // ê²°ì œ ê´€ë ¨
  updatePaymentMethod(userId: string, payment: PaymentInfo): Promise<void>;
  getPaymentHistory(userId: string): Promise<Payment[]>;
  processRefund(paymentId: string): Promise<void>;
}

// ë¡œê·¸ì¸ í¼ì´ ê²°ì œ, ê´€ë¦¬ì ê¸°ëŠ¥ê¹Œì§€ ì•Œê²Œ ë¨
class LoginForm {
  constructor(private userService: UserService) {} // ë¶ˆí•„ìš”í•œ ì˜ì¡´ì„±

  async handleLogin(email: string, password: string) {
    return this.userService.login(email, password); // loginë§Œ í•„ìš”í•œë°!
  }
}
```

#### âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ (ISP ì¤€ìˆ˜)

```typescript
// âœ… ì—­í• ë³„ë¡œ ë¶„ë¦¬ëœ ì¸í„°í˜ì´ìŠ¤
interface AuthService {
  login(email: string, password: string): Promise<User>;
  logout(): Promise<void>;
  refreshToken(): Promise<string>;
}

interface ProfileService {
  updateProfile(userId: string, data: UserProfile): Promise<void>;
  uploadAvatar(userId: string, file: File): Promise<string>;
  getProfile(userId: string): Promise<UserProfile>;
}

interface AdminService {
  deleteUser(userId: string): Promise<void>;
  getAllUsers(): Promise<User[]>;
  banUser(userId: string): Promise<void>;
}

interface PaymentService {
  updatePaymentMethod(userId: string, payment: PaymentInfo): Promise<void>;
  getPaymentHistory(userId: string): Promise<Payment[]>;
  processRefund(paymentId: string): Promise<void>;
}

// ê° ì»´í¬ë„ŒíŠ¸ëŠ” í•„ìš”í•œ ê¸°ëŠ¥ë§Œ ì˜ì¡´
class LoginForm {
  constructor(private authService: AuthService) {} // ì¸ì¦ë§Œ ì˜ì¡´

  async handleLogin(email: string, password: string) {
    return this.authService.login(email, password);
  }
}

class UserProfilePage {
  constructor(
    private profileService: ProfileService,
    private paymentService: PaymentService
  ) {} // í•„ìš”í•œ ê²ƒë§Œ ì˜ì¡´

  async updateProfile(data: UserProfile) {
    return this.profileService.updateProfile("user-id", data);
  }

  async getPayments() {
    return this.paymentService.getPaymentHistory("user-id");
  }
}
```

#### ğŸ¯ React Propsì—ì„œì˜ ISP

```typescript
// âŒ ê±°ëŒ€í•œ Props ì¸í„°í˜ì´ìŠ¤
interface ButtonProps {
  text: string;
  onClick: () => void;
  // ëª¨ë“  ë²„íŠ¼ì´ í•„ìš”í•˜ì§€ ì•Šì€ ì†ì„±ë“¤
  isLoading?: boolean;
  loadingText?: string;
  icon?: React.ReactNode;
  iconPosition?: "left" | "right";
  confirmMessage?: string;
  onConfirm?: () => void;
  tooltipText?: string;
  tooltipPosition?: "top" | "bottom";
}

// âœ… ì—­í• ë³„ë¡œ ë¶„ë¦¬ëœ Props
interface BaseButtonProps {
  text: string;
  onClick: () => void;
  variant?: "primary" | "secondary";
  size?: "small" | "medium" | "large";
}

interface LoadingButtonProps extends BaseButtonProps {
  isLoading: boolean;
  loadingText?: string;
}

interface IconButtonProps extends BaseButtonProps {
  icon: React.ReactNode;
  iconPosition?: "left" | "right";
}

interface ConfirmButtonProps extends BaseButtonProps {
  confirmMessage: string;
  onConfirm: () => void;
}

// ìš©ë„ì— ë§ëŠ” ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
const SaveButton = ({ onSave }: { onSave: () => void }) => (
  <LoadingButton
    text="ì €ì¥"
    onClick={onSave}
    isLoading={isSaving}
    loadingText="ì €ì¥ ì¤‘..."
  />
);
```

---

## 11ì¥ - ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ (DIP)

### ğŸ“– ë¡œë²„íŠ¸ ë§ˆí‹´ì˜ í•µì‹¬ ì •ì˜

**"ìƒìœ„ ìˆ˜ì¤€ì˜ ëª¨ë“ˆì€ í•˜ìœ„ ìˆ˜ì¤€ì˜ ëª¨ë“ˆì— ì˜ì¡´í•´ì„œëŠ” ì•ˆ ëœë‹¤. ë‘˜ ë‹¤ ì¶”ìƒí™”ì— ì˜ì¡´í•´ì•¼ í•œë‹¤."**

ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ì—ì„œ ë§í•˜ëŠ” **"ìœ ì—°ì„±ì´ ê·¹ëŒ€í™”ëœ ì‹œìŠ¤í…œ"**ì´ë€ ì†ŒìŠ¤ì½”ë“œ ì˜ì¡´ì„±ì´ ì¶”ìƒì— ì˜ì¡´í•˜ë©° êµ¬ì²´ì—ëŠ” ì˜ì¡´í•˜ì§€ ì•ŠëŠ” ì‹œìŠ¤í…œ

### ğŸ¯ 3ê°€ì§€ í•µì‹¬ ì‹¤ì²œ ì‚¬í•­

1. **ë³€ë™ì„±ì´ í° êµ¬ì²´ í´ë˜ìŠ¤ë¥¼ ì°¸ì¡°í•˜ì§€ ë§ë¼**

   - ëŒ€ì‹  ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì°¸ì¡°í•˜ë¼

2. **ë³€ë™ì„±ì´ í° êµ¬ì²´ í´ë˜ìŠ¤ë¡œë¶€í„° íŒŒìƒí•˜ì§€ ë§ë¼**

   - ìƒì†ì€ ê°€ì¥ ê°•ë ¥í•œ ì˜ì¡´ì„± ê´€ê³„ì´ë¯€ë¡œ ì‹ ì¤‘í•˜ê²Œ ì‚¬ìš©

3. **êµ¬ì²´ í•¨ìˆ˜ë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•˜ì§€ ë§ë¼**
   - êµ¬ì²´ í•¨ìˆ˜ëŠ” ì†ŒìŠ¤ì½”ë“œ ì˜ì¡´ì„±ì„ í•„ìš”ë¡œ í•˜ë¯€ë¡œ, ì˜ì¡´ì„±ì„ ìƒì†í•˜ê²Œ ë¨

### ğŸ”„ ì•ˆì •ì„±ê³¼ ë³€ë™ì„±

> **"ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤ì— ë³€ê²½ì´ ìƒê¸°ë©´ ì´ë¥¼ êµ¬ì²´í™”í•œ êµ¬í˜„ì²´ë„ ë”°ë¼ì„œ ìˆ˜ì •í•´ì•¼ í•œë‹¤. ë°˜ëŒ€ë¡œ êµ¬í˜„ì²´ì— ë³€ê²½ì´ ìƒê¸°ë”ë¼ë„ ê·¸ êµ¬í˜„ì²´ê°€ êµ¬í˜„í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ëŠ” ëŒ€ë¶€ë¶„ ë³€ê²½ë  í•„ìš”ê°€ ì—†ë‹¤."**

**ë›°ì–´ë‚œ ì•„í‚¤í…íŠ¸ì˜ íŠ¹ì§•:**

- ì¸í„°í˜ì´ìŠ¤ì˜ ë³€ë™ì„±ì„ ë‚®ì¶”ê¸° ìœ„í•´ ì• ì”€
- ì¸í„°í˜ì´ìŠ¤ë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³ ë„ êµ¬í˜„ì²´ì— ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì°¾ìŒ

### ğŸ—ï¸ ì•„í‚¤í…ì²˜ ê²½ê³„ì™€ ì˜ì¡´ì„± ë°©í–¥

```
[ì•„í‚¤í…ì²˜ ê²½ê³„]
êµ¬ì²´ì ì¸ ê²ƒë“¤ â† ê³¡ì„  â†’ ì¶”ìƒì ì¸ ê²ƒë“¤
     â†‘                    â†‘
   ì œì–´íë¦„              ì†ŒìŠ¤ì½”ë“œ ì˜ì¡´ì„±
   (ëŸ°íƒ€ì„)              (ì»´íŒŒì¼íƒ€ì„)
```

**ì¤‘ìš”í•œ ì›ë¦¬:**

- ê³¡ì„ ì€ êµ¬ì²´ì ì¸ ê²ƒë“¤ë¡œë¶€í„° ì¶”ìƒì ì¸ ê²ƒë“¤ì„ ë¶„ë¦¬
- **ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±**ì€ ê³¡ì„ ê³¼ êµì°¨í•  ë•Œ ëª¨ë‘ **ì¶”ìƒì ì¸ ìª½ìœ¼ë¡œ í–¥í•¨**
- **ì œì–´íë¦„**ì€ ì†ŒìŠ¤ì½”ë“œ ì˜ì¡´ì„±ê³¼ëŠ” **ì •ë°˜ëŒ€ ë°©í–¥**ìœ¼ë¡œ ê³¡ì„ ì„ ê°€ë¡œì§€ë¦„
- ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì´ ì œì–´íë¦„ê³¼ ë°˜ëŒ€ë¡œ ì—­ì „ë˜ë¯€ë¡œ **"ì˜ì¡´ì„± ì—­ì „"**

---

### ğŸ’» í”„ë¡ íŠ¸ì—”ë“œì—ì„œì˜ DIP ì ìš©

#### ğŸš« ì˜ëª»ëœ ì˜ˆì‹œ (DIP ìœ„ë°˜)

```typescript
// âŒ êµ¬ì²´ì ì¸ êµ¬í˜„ì²´ì— ì§ì ‘ ì˜ì¡´
class ApiClient {
  async fetchUsers(): Promise<User[]> {
    const response = await fetch("/api/users");
    return response.json();
  }
}

class UserListComponent {
  private apiClient: ApiClient; // êµ¬ì²´ í´ë˜ìŠ¤ì— ì§ì ‘ ì˜ì¡´

  constructor() {
    this.apiClient = new ApiClient(); // ê°•í•œ ê²°í•©
  }

  async loadUsers() {
    return this.apiClient.fetchUsers(); // fetchì— ì¢…ì†
  }
}

// ë¬¸ì œì :
// 1. GraphQLë¡œ ë³€ê²½í•˜ë ¤ë©´ UserListComponent ìˆ˜ì • í•„ìš”
// 2. í…ŒìŠ¤íŠ¸ ì‹œ ì‹¤ì œ API í˜¸ì¶œ ë°œìƒ
// 3. ApiClient ë³€ê²½ ì‹œ UserListComponentë„ ì˜í–¥
```

#### âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ (DIP ì¤€ìˆ˜)

```typescript
// âœ… ì¶”ìƒí™” ì •ì˜ (ìƒìœ„ ìˆ˜ì¤€ ëª¨ë“ˆì´ ì •ì˜)
interface UserRepository {
  getUsers(): Promise<User[]>;
  getUserById(id: string): Promise<User>;
  createUser(user: CreateUserDto): Promise<User>;
}

// êµ¬ì²´ì ì¸ êµ¬í˜„ì²´ë“¤ (í•˜ìœ„ ìˆ˜ì¤€ ëª¨ë“ˆ)
class RestApiUserRepository implements UserRepository {
  async getUsers(): Promise<User[]> {
    const response = await fetch("/api/users");
    return response.json();
  }

  async getUserById(id: string): Promise<User> {
    const response = await fetch(`/api/users/${id}`);
    return response.json();
  }

  async createUser(user: CreateUserDto): Promise<User> {
    const response = await fetch("/api/users", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(user),
    });
    return response.json();
  }
}

class GraphQLUserRepository implements UserRepository {
  async getUsers(): Promise<User[]> {
    const query = `
      query GetUsers {
        users { id name email }
      }
    `;
    const response = await this.graphqlClient.query(query);
    return response.data.users;
  }

  async getUserById(id: string): Promise<User> {
    const query = `
      query GetUser($id: ID!) {
        user(id: $id) { id name email }
      }
    `;
    const response = await this.graphqlClient.query(query, { id });
    return response.data.user;
  }

  async createUser(user: CreateUserDto): Promise<User> {
    const mutation = `
      mutation CreateUser($input: CreateUserInput!) {
        createUser(input: $input) { id name email }
      }
    `;
    const response = await this.graphqlClient.mutate(mutation, { input: user });
    return response.data.createUser;
  }
}

class MockUserRepository implements UserRepository {
  private users: User[] = [
    { id: "1", name: "John Doe", email: "john@example.com" },
    { id: "2", name: "Jane Smith", email: "jane@example.com" },
  ];

  async getUsers(): Promise<User[]> {
    return Promise.resolve([...this.users]);
  }

  async getUserById(id: string): Promise<User> {
    const user = this.users.find((u) => u.id === id);
    if (!user) throw new Error("User not found");
    return Promise.resolve(user);
  }

  async createUser(user: CreateUserDto): Promise<User> {
    const newUser = { ...user, id: Date.now().toString() };
    this.users.push(newUser);
    return Promise.resolve(newUser);
  }
}

// ìƒìœ„ ìˆ˜ì¤€ ëª¨ë“ˆ - ì¶”ìƒí™”ì—ë§Œ ì˜ì¡´
class UserListComponent {
  constructor(private userRepository: UserRepository) {} // ì¶”ìƒí™”ì— ì˜ì¡´

  async loadUsers() {
    return this.userRepository.getUsers();
  }

  async createUser(userData: CreateUserDto) {
    return this.userRepository.createUser(userData);
  }
}

// ì‚¬ìš© ì‹œì ì— êµ¬ì²´ì ì¸ êµ¬í˜„ì²´ ì£¼ì…
const restApiRepo = new RestApiUserRepository();
const graphqlRepo = new GraphQLUserRepository();
const mockRepo = new MockUserRepository();

const userListWithRest = new UserListComponent(restApiRepo);
const userListWithGraphQL = new UserListComponent(graphqlRepo);
const userListForTest = new UserListComponent(mockRepo);
```

#### ğŸ¯ Reactì—ì„œì˜ DIP í™œìš©

```typescript
// React Contextë¥¼ í†µí•œ ì˜ì¡´ì„± ì£¼ì…
interface ServiceContainer {
  userRepository: UserRepository;
  notificationService: NotificationService;
  logger: Logger;
}

const ServiceContext = React.createContext<ServiceContainer | null>(null);

const useUserRepository = (): UserRepository => {
  const services = useContext(ServiceContext);
  if (!services) throw new Error("ServiceContext not provided");
  return services.userRepository;
};

// ì»´í¬ë„ŒíŠ¸ëŠ” ì¶”ìƒí™”ì—ë§Œ ì˜ì¡´
const UserProfile: React.FC<{ userId: string }> = ({ userId }) => {
  const userRepository = useUserRepository(); // ì¶”ìƒí™”ì— ì˜ì¡´
  const [user, setUser] = useState<User | null>(null);

  useEffect(() => {
    userRepository.getUserById(userId).then(setUser);
  }, [userId, userRepository]);

  if (!user) return <div>Loading...</div>;

  return (
    <div>
      <h1>{user.name}</h1>
      <p>{user.email}</p>
    </div>
  );
};

// ì•± ì „ì²´ì— ì„œë¹„ìŠ¤ ì œê³µ
const App = () => {
  const services: ServiceContainer = {
    userRepository: new RestApiUserRepository(),
    notificationService: new EmailNotificationService(),
    logger: new ConsoleLogger(),
  };

  return (
    <ServiceContext.Provider value={services}>
      <UserProfile userId="123" />
    </ServiceContext.Provider>
  );
};
```

### ğŸ”§ íŒ©í† ë¦¬ íŒ¨í„´ê³¼ DIP

```typescript
// ì¶”ìƒ íŒ©í† ë¦¬ ì •ì˜
interface RepositoryFactory {
  createUserRepository(): UserRepository;
  createPostRepository(): PostRepository;
}

// êµ¬ì²´ì ì¸ íŒ©í† ë¦¬ë“¤
class RestApiRepositoryFactory implements RepositoryFactory {
  createUserRepository(): UserRepository {
    return new RestApiUserRepository();
  }

  createPostRepository(): PostRepository {
    return new RestApiPostRepository();
  }
}

class GraphQLRepositoryFactory implements RepositoryFactory {
  createUserRepository(): UserRepository {
    return new GraphQLUserRepository();
  }

  createPostRepository(): PostRepository {
    return new GraphQLPostRepository();
  }
}

// ìƒìœ„ ìˆ˜ì¤€ ëª¨ë“ˆ
class Application {
  constructor(private repositoryFactory: RepositoryFactory) {}

  initializeServices() {
    const userRepo = this.repositoryFactory.createUserRepository();
    const postRepo = this.repositoryFactory.createPostRepository();

    return {
      userService: new UserService(userRepo),
      postService: new PostService(postRepo),
    };
  }
}

// í™˜ê²½ì— ë”°ë¥¸ íŒ©í† ë¦¬ ì„ íƒ
const factory =
  process.env.API_TYPE === "graphql"
    ? new GraphQLRepositoryFactory()
    : new RestApiRepositoryFactory();

const app = new Application(factory);
```

---

## ğŸš€ í”„ë¡ íŠ¸ì—”ë“œ ì‹¤ë¬´ì—ì„œì˜ í†µí•© ì ìš©

### 1. ìƒíƒœ ê´€ë¦¬ì—ì„œì˜ DIP + ISP

```typescript
// ISP: ìƒíƒœ ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬
interface ReadonlyState<T> {
  getState(): T;
  subscribe(listener: (state: T) => void): () => void;
}

interface WritableState<T> extends ReadonlyState<T> {
  setState(state: Partial<T>): void;
}

interface AsyncState<T> extends WritableState<T> {
  setLoading(loading: boolean): void;
  setError(error: string | null): void;
}

// DIP: êµ¬ì²´ì ì¸ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
class ZustandStateManager<T> implements AsyncState<T> {
  // Zustand êµ¬í˜„
}

class ReduxStateManager<T> implements AsyncState<T> {
  // Redux êµ¬í˜„
}

// ì»´í¬ë„ŒíŠ¸ëŠ” í•„ìš”í•œ ì¸í„°í˜ì´ìŠ¤ì—ë§Œ ì˜ì¡´
interface UserListProps {
  userState: ReadonlyState<User[]>; // ì½ê¸°ë§Œ í•„ìš”
}

interface UserFormProps {
  userState: WritableState<User[]>; // ì½ê¸°/ì“°ê¸° í•„ìš”
}
```

### 2. API í´ë¼ì´ì–¸íŠ¸ì—ì„œì˜ ì ìš©

```typescript
// ISP: API ê¸°ëŠ¥ë³„ ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬
interface AuthAPI {
  login(credentials: LoginDto): Promise<AuthResult>;
  logout(): Promise<void>;
}

interface UserAPI {
  getUsers(): Promise<User[]>;
  updateUser(id: string, data: UpdateUserDto): Promise<User>;
}

interface FileAPI {
  uploadFile(file: File): Promise<string>;
  downloadFile(url: string): Promise<Blob>;
}

// DIP: HTTP í´ë¼ì´ì–¸íŠ¸ ì¶”ìƒí™”
interface HttpClient {
  get<T>(url: string): Promise<T>;
  post<T>(url: string, data: any): Promise<T>;
  put<T>(url: string, data: any): Promise<T>;
  delete<T>(url: string): Promise<T>;
}

class AxiosHttpClient implements HttpClient {
  // axios êµ¬í˜„
}

class FetchHttpClient implements HttpClient {
  // fetch êµ¬í˜„
}

// êµ¬ì²´ì ì¸ API êµ¬í˜„ì²´ë“¤
class RestUserAPI implements UserAPI {
  constructor(private httpClient: HttpClient) {}

  async getUsers(): Promise<User[]> {
    return this.httpClient.get("/api/users");
  }

  async updateUser(id: string, data: UpdateUserDto): Promise<User> {
    return this.httpClient.put(`/api/users/${id}`, data);
  }
}
```

### 3. í…ŒìŠ¤íŒ…ì—ì„œì˜ ì¥ì 

```typescript
describe("UserProfile Component", () => {
  it("ì‚¬ìš©ì ì •ë³´ë¥¼ ì˜¬ë°”ë¥´ê²Œ í‘œì‹œí•œë‹¤", async () => {
    // ëª¨í‚¹ì´ ì‰¬ì›Œì§
    const mockUserRepository: UserRepository = {
      getUserById: jest.fn().mockResolvedValue({
        id: "1",
        name: "John Doe",
        email: "john@example.com",
      }),
      getUsers: jest.fn(),
      createUser: jest.fn(),
    };

    render(
      <ServiceContext.Provider value={{ userRepository: mockUserRepository }}>
        <UserProfile userId="1" />
      </ServiceContext.Provider>
    );

    expect(await screen.findByText("John Doe")).toBeInTheDocument();
    expect(mockUserRepository.getUserById).toHaveBeenCalledWith("1");
  });
});
```

---

## ğŸ’¡ í•µì‹¬ ìš”ì•½

### ISP (ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™)

- **ì±…ì˜ í•µì‹¬**: "ë¶ˆí•„ìš”í•œ ì§ì„ ì‹¤ì€ ë¬´ì–¸ê°€ì— ì˜ì¡´í•˜ì§€ ë§ë¼"
- **FE ì ìš©**: ì»´í¬ë„ŒíŠ¸ Props, ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì—­í• ë³„ë¡œ ë¶„ë¦¬
- **ì¥ì **: ì¬ì‚¬ìš©ì„± í–¥ìƒ, ë²ˆë“¤ ìµœì í™”, í…ŒìŠ¤íŠ¸ ìš©ì´ì„±

### DIP (ì˜ì¡´ì„± ì—­ì „ ì›ì¹™)

- **ì±…ì˜ í•µì‹¬**: "ì†ŒìŠ¤ì½”ë“œ ì˜ì¡´ì„±ì´ ì œì–´íë¦„ê³¼ ë°˜ëŒ€ë¡œ í–¥í•˜ê²Œ í•˜ë¼"
- **FE ì ìš©**: API í´ë¼ì´ì–¸íŠ¸, ìƒíƒœ ê´€ë¦¬ë¥¼ ì¶”ìƒí™”ë¡œ ë¶„ë¦¬
- **ì¥ì **: ìœ ì—°ì„± í™•ë³´, í…ŒìŠ¤íŠ¸ ìš©ì´ì„±, êµ¬í˜„ì²´ êµì²´ ê°€ëŠ¥

### ì‹¤ë¬´ ì ìš© í¬ì¸íŠ¸

1. **ì˜ì¡´ì„± ì£¼ì… ì»¨í…Œì´ë„ˆ** í™œìš©ìœ¼ë¡œ DIP êµ¬í˜„
2. **ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ ì„¤ê³„**ë¡œ TypeScriptì˜ íƒ€ì… ì•ˆì •ì„± í™œìš©
